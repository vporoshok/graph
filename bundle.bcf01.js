!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(t){return e[t]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/graph/",t(t.s="mdyV")}({ETxl:function(e){e.exports={container:"ke_z5dUkiLINXXRQecyWc",graph:"_2LnSqepP9arbZ_JgmKsSOx",editor:"_2B9HOHNxzkqOaGhX69Vo9o"}},GFNa:function(){},HQPJ:function(e){e.exports={container:"XGfI7YI58bReOW4_02Wf7"}},Hijf:function(e){e.exports={container:"ogpaviVE3fhNW1zJ2HDYy",svg:"_3jotsNi7ORR9CZOH1jzM2y"}},QfWi:function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){function r(){this.constructor=e}V(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function a(e){return"function"==typeof e}function l(e){setTimeout((function(){throw e}),0)}function p(e){return e.reduce((function(e,t){return e.concat(t instanceof C?t.errors:t)}),[])}function f(e){return e}function h(e){return 0===e.length?f:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}function d(e){if(e||(e=D.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function _(e){var t=0;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e)))return function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(t=e[Symbol.iterator]()).next.bind(t)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.r(t);r("GFNa");var w,O=r("hosL"),S=r("Hijf"),E=r("HQPJ"),j=function(e){var t=e.target.current.getBoundingClientRect(),r={left:t.right,top:t.top+t.height/2};return Object(O.c)("div",{class:E.container,style:r},e.content)},P=function(e){var t=e.vertex.name,r=e.vertex.color;return Object(O.c)("form",{onSubmit:function(i){i.preventDefault(),e.vertex.name===t&&e.vertex.color===r||e.onChange(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e.vertex,{color:r,name:t})),e.onClose()}},Object(O.c)("input",{type:"color",value:r,onChange:function(e){return r=e.currentTarget.value}}),Object(O.c)("input",{type:"text",ref:function(e){return e&&e.select()},value:t,onChange:function(e){return t=e.currentTarget.value}}),Object(O.c)("button",null,"Save"))},k=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).state={translate:{dx:0,dy:0}},t.ref=Object(O.b)(),t.menuedVertex=Object(O.b)(),t}var r,n;n=e,(r=t).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var o,c,a,l=t.prototype;return l.render=function(e,t){var r=this,n="translate("+t.translate.dx+" "+t.translate.dy+")";return Object(O.c)("div",{class:S.container},Object(O.c)("svg",{ref:this.ref,class:S.svg,"tab-index":"-1",onDblClick:function(e){return r.createVertex(e)},onMouseDown:function(e){return r.onMouseDown(e)},onMouseMove:function(e){return r.onMouseMove(e)},onMouseUp:function(){return r.onMouseUp()}},Object(O.c)("g",{transform:n},e.edges.map((function(e){return Object(O.c)("line",{key:e.source.id+e.target.id,x1:e.source.x,y1:e.source.y,x2:e.target.x,y2:e.target.y,stroke:e.color})})),e.vertices.map((function(e,n){return Object(O.c)("g",{key:e.id,transform:r.vertexTranslate(n,e)},Object(O.c)("circle",{ref:n===t.menuedVertexIndex?r.menuedVertex:void 0,r:"5",fill:e.color,onMouseDown:function(e){return r.onVertexMoveStart(n,e)},onContextMenu:function(e){return r.onRightClickOnVertex(n,e)}}),Object(O.c)("text",{x:"5",y:"15"},e.name))})))),void 0!==t.menuedVertexIndex&&this.menuedVertex?Object(O.c)(j,{target:this.menuedVertex,content:this.vertexMenu}):null)},l.vertexTranslate=function(e,t){var r=t.x,n=t.y;return this.state.movedVertexIndex===e&&(r+=this.state.movedVertexTranslate.dx,n+=this.state.movedVertexTranslate.dy),"translate("+r+", "+n+")"},l.createVertex=function(e){var t=this.ref.current.getBoundingClientRect();this.props.addVertex(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},{x:e.clientX-t.x-this.state.translate.dx,y:e.clientY-t.y-this.state.translate.dy}))},l.onMouseDown=function(e){this.setState({translateStartPoint:{x:e.clientX,y:e.clientY},translateStartValue:this.state.translate,menuedVertexIndex:void 0})},l.onMouseMove=function(e){this.state.translateStartPoint&&this.state.translateStartValue&&this.setState({translate:{dx:this.state.translateStartValue.dx+e.clientX-this.state.translateStartPoint.x,dy:this.state.translateStartValue.dy+e.clientY-this.state.translateStartPoint.y}}),this.state.movedVertexStartPoint&&this.setState({movedVertexTranslate:{dx:e.clientX-this.state.movedVertexStartPoint.x,dy:e.clientY-this.state.movedVertexStartPoint.y}})},l.onMouseUp=function(){void 0!==this.state.movedVertexIndex&&this.state.movedVertexTranslate&&this.props.moveVertex({id:this.props.vertices[this.state.movedVertexIndex].id,x:this.props.vertices[this.state.movedVertexIndex].x+this.state.movedVertexTranslate.dx,y:this.props.vertices[this.state.movedVertexIndex].y+this.state.movedVertexTranslate.dy}),this.setState({translateStartPoint:void 0,translateStartValue:void 0,movedVertexIndex:void 0,movedVertexStartPoint:void 0,movedVertexTranslate:void 0})},l.onVertexMoveStart=function(e,t){t.stopPropagation(),this.setState({movedVertexIndex:e,movedVertexStartPoint:{x:t.clientX,y:t.clientY},movedVertexTranslate:{dx:0,dy:0}})},l.onRightClickOnVertex=function(e,t){return t.stopPropagation(),t.preventDefault(),this.setState({menuedVertexIndex:e}),!1},o=t,(c=[{key:"vertexMenu",get:function(){var e=this;return Object(O.c)(P,{vertex:this.props.vertices[this.state.menuedVertexIndex],onChange:this.props.updateVertex,onClose:function(){return e.setState({menuedVertexIndex:void 0})}})}}])&&u(o.prototype,c),a&&u(o,a),t}(O.a),V=function(e,t){return(V=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},T=!1,D={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e);T=e},get useDeprecatedSynchronousErrorHandling(){return T}},M={closed:!0,next:function(){},error:function(e){if(D.useDeprecatedSynchronousErrorHandling)throw e;l(e)},complete:function(){}},A=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}(),C=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),I=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r,n=this._parentOrParents,o=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s){n[s].remove(this)}if(a(o))try{o.call(this)}catch(e){t=e instanceof C?p(e.errors):[e]}if(A(i)){s=-1;for(var u=i.length;++s<u;){var c=i[s];if(null!==(r=c)&&"object"==typeof r)try{c.unsubscribe()}catch(e){t=t||[],e instanceof C?t=t.concat(p(e.errors)):t.push(e)}}}if(t)throw new C(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof e){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}(),U=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),H=function(e){function t(r,n,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=M;break;case 1:if(!r){i.destination=M;break}if("object"==typeof r){r instanceof t?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new N(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new N(i,r,n,o)}return i}return c(t,e),t.prototype[U]=function(){return this},t.create=function(e,r,n){var o=new t(e,r,n);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(I),N=function(e){function t(t,r,n,o){var i,s=e.call(this)||this;s._parentSubscriber=t;var u=s;return a(r)?i=r:r&&(i=r.next,n=r.error,o=r.complete,r!==M&&(a((u=Object.create(r)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=i,s._error=n,s._complete=o,s}return c(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;D.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=D.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):l(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;l(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};D.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),D.useDeprecatedSynchronousErrorHandling)throw e;l(e)}},t.prototype.__tryOrSetError=function(e,t,r){if(!D.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return D.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(l(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(H),R=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}(),W=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n=this.operator,o=function(e,t,r){if(e){if(e instanceof H)return e;if(e[U])return e[U]()}return e||t||r?new H(e,t,r):new H(M)}(e,t,r);if(o.add(n?n.call(o,this.source):this.source||D.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),D.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){D.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e.destination;if(e.closed||e.isStopped)return!1;e=t&&t instanceof H?t:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=d(t))((function(t,n){var o;o=r.subscribe((function(t){try{e(t)}catch(e){n(e),o&&o.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[R]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:h(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}(),L=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),z=function(e){function t(t,r){var n=e.call(this)||this;return n.subject=t,n.subscriber=r,n.closed=!1,n}return c(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(I),Y=function(e){function t(t){var r=e.call(this,t)||this;return r.destination=t,r}return c(t,e),t}(H),$=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return c(t,e),t.prototype[U]=function(){return new Y(this)},t.prototype.lift=function(e){var t=new X(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new L;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new L;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new L;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new L;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new L;return this.hasError?(e.error(this.thrownError),I.EMPTY):this.isStopped?(e.complete(),I.EMPTY):(this.observers.push(e),new z(this,e))},t.prototype.asObservable=function(){var e=new W;return e.source=this,e},t.create=function(e,t){return new X(e,t)},t}(W),X=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return c(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):I.EMPTY},t}($);!function(e){e[e.Deserialized=0]="Deserialized",e[e.VertexAdded=1]="VertexAdded",e[e.VertexMoved=2]="VertexMoved",e[e.VertexUpdated=3]="VertexUpdated",e[e.EdgeAdded=4]="EdgeAdded"}(w||(w={}));var F=function(){function e(){this.serial=0,this._change$=new $,this.vertices=new Map}var t,r,n,o=e.prototype;return o.addVertex=function(e){var t=++this.serial,r={data:y({name:t.toString(),color:"#000000"},e,{id:t}),edges:new Map};return this.vertices.set(t,r),this._change$.next({kind:w.VertexAdded,v:r.data}),r.data},o.moveVertex=function(e){var t=this.vertices.get(e.id);if(void 0===t)throw new ReferenceError("unknown vertex "+e.id);return t.data=y({},t.data,{x:e.x,y:e.y}),this._change$.next({kind:w.VertexMoved,v:t.data}),t.data},o.updateVertex=function(e){var t=this.vertices.get(e.id);if(void 0===t)throw new ReferenceError("unknown vertex "+e.id);return t.data=y({},e,{x:t.data.x,y:t.data.y}),this._change$.next({kind:w.VertexUpdated,v:t.data}),t.data},o.addEdge=function(e){var t=this._addEdge(e);return this._change$.next({kind:w.EdgeAdded,e:t}),t},o.serialize=function(){return{vertices:this.V,edges:this.E.map((function(e){return y({},e,{source:e.source.id,target:e.target.id})}))}},o.deserialize=function(e){this.serial=e.vertices.reduce((function(e,t){return Math.max(e,t.id)}),0);for(var t,r=_(e.vertices);!(t=r()).done;){var n=t.value;this.vertices.set(n.id,{data:n,edges:new Map})}for(var o,i=_(e.edges);!(o=i()).done;){this._addEdge(o.value)}this._change$.next({kind:w.Deserialized})},o._addEdge=function(e){var t=e.source,r=e.target,n=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)t.indexOf(r=i[n])>=0||(o[r]=e[r]);return o}(e,["source","target"]),o=this.vertices.get(t),i=this.vertices.get(r);if(!o||!i)throw new ReferenceError("invalid edge from "+t+" to "+r);return o.edges.set(r,{data:n,target:i}),e.directed||i.edges.set(t,{data:n,target:o}),y({},n,{source:o.data,target:i.data})},t=e,(r=[{key:"V",get:function(){for(var e,t=new Array,r=_(this.vertices.values());!(e=r()).done;)t.push(e.value.data);return t}},{key:"E",get:function(){for(var e=new Array,t=0;t<this.serial;t++){var r=this.vertices.get(t);if(void 0!==r)for(var n,o=_(r.edges.values());!(n=o()).done;){var i=n.value;(i.data.directed||i.target.data.id>r.data.id)&&e.push(y({},i.data,{source:r.data,target:i.target.data}))}}return e}},{key:"change$",get:function(){return this._change$.asObservable()}}])&&m(t.prototype,r),n&&m(t,n),e}(),B=r("ETxl");t.default=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).graph=new F,t.changeSub=t.graph.change$.subscribe(t.updateState.bind(x(t))),t.state={vertices:t.graph.V,edges:t.graph.E},t}var r,n;n=e,(r=t).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n;var o=t.prototype;return o.componentWillMount=function(){window.graph=this.graph;var e=localStorage.getItem("graph");null!==e&&this.graph.deserialize(JSON.parse(e))},o.componentWillUnmount=function(){this.changeSub&&this.changeSub.unsubscribe()},o.render=function(){return Object(O.c)("div",{id:"app",class:B.container},Object(O.c)("div",{class:B.graph},Object(O.c)(k,{vertices:this.state.vertices,edges:this.state.edges,addVertex:this.graph.addVertex.bind(this.graph),moveVertex:this.graph.moveVertex.bind(this.graph),updateVertex:this.graph.updateVertex.bind(this.graph)})),Object(O.c)("div",{class:B.editor}))},o.updateState=function(){var e=this;this.setState({vertices:this.graph.V,edges:this.graph.E},(function(){return localStorage.setItem("graph",JSON.stringify(e.graph.serialize()))}))},t}(O.a)},hosL:function(e,t,r){"use strict";function n(e,t){for(var r in t)e[r]=t[r];return e}function o(e){var t=e.parentNode;t&&t.removeChild(e)}function i(e,t,r){var n,o=arguments,i={};for(n in t)"key"!==n&&"ref"!==n&&(i[n]=t[n]);if(arguments.length>3)for(r=[r],n=3;n<arguments.length;n++)r.push(o[n]);if(null!=r&&(i.children=r),"function"==typeof e&&null!=e.defaultProps)for(n in e.defaultProps)void 0===i[n]&&(i[n]=e.defaultProps[n]);return s(e,i,t&&t.key,t&&t.ref,null)}function s(e,t,r,n,o){var i={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o};return null==o&&(i.__v=i),P.vnode&&P.vnode(i),i}function u(){return{}}function c(e){return e.children}function a(e,t){this.props=e,this.context=t}function l(e,t){if(null==t)return e.__?l(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?l(e):null}function p(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return p(e)}}function f(e){(!e.__d&&(e.__d=!0)&&k.push(e)&&!V++||D!==P.debounceRendering)&&((D=P.debounceRendering)||T)(h)}function h(){for(var e;V=k.length;)e=k.sort((function(e,t){return e.__v.__b-t.__v.__b})),k=[],e.some((function(e){var t,r,o,i,s,u,c;e.__d&&(u=(s=(t=e).__v).__e,(c=t.__P)&&(r=[],(o=n({},s)).__v=o,i=g(c,s,o,t.__n,void 0!==c.ownerSVGElement,null,r,null==u?l(s):u),m(r,s),i!=u&&p(s)))}))}function d(e,t,r,n,i,s,u,c,a){var p,f,h,d,b,v,y,m=r&&r.__k||C,x=m.length;if(c==A&&(c=null!=s?s[0]:x?l(r,0):null),p=0,t.__k=_(t.__k,(function(r){if(null!=r){if(r.__=t,r.__b=t.__b+1,null===(h=m[p])||h&&r.key==h.key&&r.type===h.type)m[p]=void 0;else for(f=0;f<x;f++){if((h=m[f])&&r.key==h.key&&r.type===h.type){m[f]=void 0;break}h=null}if(d=g(e,r,h=h||A,n,i,s,u,c,a),(f=r.ref)&&h.ref!=f&&(y||(y=[]),h.ref&&y.push(h.ref,null,r),y.push(f,r.__c||d,r)),null!=d){var o;if(null==v&&(v=d),void 0!==r.__d)o=r.__d,r.__d=void 0;else if(s==h||d!=c||null==d.parentNode){e:if(null==c||c.parentNode!==e)e.appendChild(d),o=null;else{for(b=c,f=0;(b=b.nextSibling)&&f<x;f+=2)if(b==d)break e;e.insertBefore(d,c),o=c}"option"==t.type&&(e.value="")}c=void 0!==o?o:d.nextSibling,"function"==typeof t.type&&(t.__d=c)}else c&&h.__e==c&&c.parentNode!=e&&(c=l(h))}return p++,r})),t.__e=v,null!=s&&"function"!=typeof t.type)for(p=s.length;p--;)null!=s[p]&&o(s[p]);for(p=x;p--;)null!=m[p]&&O(m[p],m[p]);if(y)for(p=0;p<y.length;p++)w(y[p],y[++p],y[++p])}function _(e,t,r){if(null==r&&(r=[]),null==e||"boolean"==typeof e)t&&r.push(t(null));else if(Array.isArray(e))for(var n=0;n<e.length;n++)_(e[n],t,r);else r.push(t?t("string"==typeof e||"number"==typeof e?s(null,e,null,null,e):null!=e.__e||null!=e.__c?s(e.type,e.props,e.key,null,e.__v):e):e);return r}function b(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]="number"==typeof r&&!1===I.test(t)?r+"px":null==r?"":r}function v(e,t,r,n,o){var i,s,u,c,a;if(o?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(i=e.style,"string"==typeof r)i.cssText=r;else{if("string"==typeof n&&(i.cssText="",n=null),n)for(c in n)r&&c in r||b(i,c,"");if(r)for(a in r)n&&r[a]===n[a]||b(i,a,r[a])}else"o"===t[0]&&"n"===t[1]?(s=t!==(t=t.replace(/Capture$/,"")),u=t.toLowerCase(),t=(u in e?u:t).slice(2),r?(n||e.addEventListener(t,y,s),(e.l||(e.l={}))[t]=r):e.removeEventListener(t,y,s)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!o&&t in e?e[t]=null==r?"":r:"function"!=typeof r&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==r||!1===r?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):null==r||!1===r&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,r))}function y(e){this.l[e.type](P.event?P.event(e):e)}function g(e,t,r,o,i,s,u,l,p){var f,h,_,b,v,y,g,m,w,O,E=t.type;if(void 0!==t.constructor)return null;(f=P.__b)&&f(t);try{e:if("function"==typeof E){if(m=t.props,w=(f=E.contextType)&&o[f.__c],O=f?w?w.props.value:f.__:o,r.__c?g=(h=t.__c=r.__c).__=h.__E:("prototype"in E&&E.prototype.render?t.__c=h=new E(m,O):(t.__c=h=new a(m,O),h.constructor=E,h.render=S),w&&w.sub(h),h.props=m,h.state||(h.state={}),h.context=O,h.__n=o,_=h.__d=!0,h.__h=[]),null==h.__s&&(h.__s=h.state),null!=E.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=n({},h.__s)),n(h.__s,E.getDerivedStateFromProps(m,h.__s))),b=h.props,v=h.state,_)null==E.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(null==E.getDerivedStateFromProps&&m!==b&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(m,O),!h.__e&&null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(m,h.__s,O)||t.__v===r.__v&&!h.__){for(h.props=m,h.state=h.__s,t.__v!==r.__v&&(h.__d=!1),h.__v=t,t.__e=r.__e,t.__k=r.__k,h.__h.length&&u.push(h),f=0;f<t.__k.length;f++)t.__k[f]&&(t.__k[f].__=t);break e}null!=h.componentWillUpdate&&h.componentWillUpdate(m,h.__s,O),null!=h.componentDidUpdate&&h.__h.push((function(){h.componentDidUpdate(b,v,y)}))}h.context=O,h.props=m,h.state=h.__s,(f=P.__r)&&f(t),h.__d=!1,h.__v=t,h.__P=e,f=h.render(h.props,h.state,h.context),t.__k=null!=f&&f.type==c&&null==f.key?f.props.children:Array.isArray(f)?f:[f],null!=h.getChildContext&&(o=n(n({},o),h.getChildContext())),_||null==h.getSnapshotBeforeUpdate||(y=h.getSnapshotBeforeUpdate(b,v)),d(e,t,r,o,i,s,u,l,p),h.base=t.__e,h.__h.length&&u.push(h),g&&(h.__E=h.__=null),h.__e=!1}else null==s&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=x(r.__e,t,r,o,i,s,u,p);(f=P.diffed)&&f(t)}catch(e){t.__v=null,P.__e(e,t,r)}return t.__e}function m(e,t){P.__c&&P.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){P.__e(e,t.__v)}}))}function x(e,t,r,n,o,i,s,u){var c,a,l,p,f,h=r.props,_=t.props;if(o="svg"===t.type||o,null!=i)for(c=0;c<i.length;c++)if(null!=(a=i[c])&&((null===t.type?3===a.nodeType:a.localName===t.type)||e==a)){e=a,i[c]=null;break}if(null==e){if(null===t.type)return document.createTextNode(_);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,_.is&&{is:_.is}),i=null,u=!1}if(null===t.type)h!==_&&e.data!=_&&(e.data=_);else{if(null!=i&&(i=C.slice.call(e.childNodes)),l=(h=r.props||A).dangerouslySetInnerHTML,p=_.dangerouslySetInnerHTML,!u){if(h===A)for(h={},f=0;f<e.attributes.length;f++)h[e.attributes[f].name]=e.attributes[f].value;(p||l)&&(p&&l&&p.__html==l.__html||(e.innerHTML=p&&p.__html||""))}(function(e,t,r,n,o){var i;for(i in r)"children"===i||"key"===i||i in t||v(e,i,null,r[i],n);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||r[i]===t[i]||v(e,i,t[i],r[i],n)})(e,_,h,o,u),t.__k=t.props.children,p||d(e,t,r,n,"foreignObject"!==t.type&&o,i,s,A,u),u||("value"in _&&void 0!==_.value&&_.value!==e.value&&(e.value=null==_.value?"":_.value),"checked"in _&&void 0!==_.checked&&_.checked!==e.checked&&(e.checked=_.checked))}return e}function w(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){P.__e(e,r)}}function O(e,t,r){var n,i,s;if(P.unmount&&P.unmount(e),(n=e.ref)&&(n.current&&n.current!==e.__e||w(n,null,t)),r||"function"==typeof e.type||(r=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(n=e.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(e){P.__e(e,t)}n.base=n.__P=null}if(n=e.__k)for(s=0;s<n.length;s++)n[s]&&O(n[s],t,r);null!=i&&o(i)}function S(e,t,r){return this.constructor(e,r)}function E(e,t,r){var n,o,s;P.__&&P.__(e,t),o=(n=r===M)?null:r&&r.__k||t.__k,e=i(c,null,[e]),s=[],g(t,(n?t:r||t).__k=e,o||A,A,void 0!==t.ownerSVGElement,r&&!n?[r]:o?null:C.slice.call(t.childNodes),s,r||A,n),m(s,e)}function j(e,t){E(e,t,M)}r.d(t,"e",(function(){return E})),r.d(t,"d",(function(){return j})),r.d(t,"c",(function(){return i})),r.d(t,"b",(function(){return u})),r.d(t,"a",(function(){return a}));var P,k,V,T,D,M,A={},C=[],I=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;P={__e:function(e,t){for(var r,n;t=t.__;)if((r=t.__c)&&!r.__)try{if(r.constructor&&null!=r.constructor.getDerivedStateFromError&&(n=!0,r.setState(r.constructor.getDerivedStateFromError(e))),null!=r.componentDidCatch&&(n=!0,r.componentDidCatch(e)),n)return f(r.__E=r)}catch(t){e=t}throw e}},a.prototype.setState=function(e,t){var r;r=this.__s!==this.state?this.__s:this.__s=n({},this.state),"function"==typeof e&&(e=e(r,this.props)),e&&n(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),f(this))},a.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),f(this))},a.prototype.render=c,k=[],V=0,T="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,M=A},mdyV:function(e,t,r){"use strict";r.r(t);var n=r("hosL"),o=n.c,i=n.e,s=function(e){return e&&e.default?e.default:e};if("serviceWorker"in navigator&&navigator.serviceWorker.register(r.p+"sw.js"),"function"==typeof s(r("QfWi"))){var u=document.getElementById("preact_root")||document.body.firstElementChild;0,function(){var e=s(r("QfWi")),t={},n=document.querySelector('[type="__PREACT_CLI_DATA__"]');n&&(t=JSON.parse(n.innerHTML).preRenderData||t);var c;t.url&&(c=t.url);u=i(o(e,{CLI_DATA:{preRenderData:t}}),document.body,u)}()}}});
//# sourceMappingURL=bundle.bcf01.js.map
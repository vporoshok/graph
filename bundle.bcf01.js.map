{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./components/style.css","webpack:///./components/popover/style.css","webpack:///./components/graph/style.css","webpack:///../node_modules/tslib/tslib.es6.js","webpack:///../../../src/internal/util/isFunction.ts","webpack:///../../../src/internal/util/hostReportError.ts","webpack:///../../src/internal/Subscription.ts","webpack:///../../../src/internal/util/identity.ts","webpack:///../../../src/internal/util/pipe.ts","webpack:///../../src/internal/Observable.ts","webpack:///./models/graph.ts","webpack:///./components/popover/index.tsx","webpack:///./components/vertex-settings/index.tsx","webpack:///./components/graph/graph.tsx","webpack:///../../src/internal/config.ts","webpack:///../../src/internal/Observer.ts","webpack:///../../../src/internal/util/UnsubscriptionError.ts","webpack:///../../../src/internal/util/isObject.ts","webpack:///../../../src/internal/symbol/rxSubscriber.ts","webpack:///../../src/internal/Subscriber.ts","webpack:///../../../src/internal/util/toSubscriber.ts","webpack:///../../../src/internal/util/canReportError.ts","webpack:///../../../src/internal/util/ObjectUnsubscribedError.ts","webpack:///../../src/internal/SubjectSubscription.ts","webpack:///../../src/internal/Subject.ts","webpack:///./index.js","webpack:///./components/app.tsx","webpack:///../src/util.js","webpack:///../src/create-element.js","webpack:///../src/component.js","webpack:///../src/diff/children.js","webpack:///../src/diff/props.js","webpack:///../src/diff/index.js","webpack:///../src/render.js","webpack:///../src/constants.js","webpack:///../src/options.js","webpack:///../src/diff/catch-error.js","webpack:///../node_modules/preact-cli/lib/lib/entry.js"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__extends","b","__","this","constructor","extendStatics","ChangeKind","PopoverComponent","props","bbox","target","current","getBoundingClientRect","position","left","right","top","height","class","style","content","VertexSettingsComponent","vertex","color","onSubmit","e","preventDefault","onChange","onClose","type","currentTarget","ref","dom","select","GraphComponent","state","translate","dx","dy","createRef","menuedVertex","render","transform","tab-index","onDblClick","createVertex","onMouseDown","onMouseMove","onMouseUp","edges","map","source","id","x1","x","y1","y","x2","y2","stroke","vertices","v","vertexTranslate","menuedVertexIndex","undefined","fill","onVertexMoveStart","onContextMenu","onRightClickOnVertex","vertexMenu","movedVertexIndex","movedVertexTranslate","event","rect","addVertex","clientX","clientY","setState","translateStartPoint","translateStartValue","movedVertexStartPoint","moveVertex","stopPropagation","updateVertex","Component","setPrototypeOf","__proto__","Array","SafeSubscriber","_parentSubscriber","Subject","Graph","serial","_change$","Map","data","toString","set","next","kind","VertexAdded","ReferenceError","VertexMoved","VertexUpdated","addEdge","res","_addEdge","EdgeAdded","serialize","V","E","deserialize","graph","reduce","acc","Math","max","Deserialized","sId","tId","directed","values","push","asObservable","AppComponent","changeSub","change$","subscribe","updateState","componentWillMount","window","raw","localStorage","getItem","JSON","parse","componentWillUnmount","unsubscribe","setItem","stringify","assign","obj","removeNode","node","parentNode","removeChild","createElement","children","normalizedProps","arguments","length","defaultProps","createVNode","original","vnode","_children","_parent","_depth","_dom","_nextDom","_component","_original","options","Fragment","context","getDomSibling","childIndex","indexOf","sibling","updateParentDomPointers","child","base","enqueueRender","_dirty","rerenderQueue","rerenderCount","prevDebounce","debounceRendering","defer","process","queue","sort","a","_vnode","some","component","commitQueue","oldVNode","newDom","oldDom","parentDom","_parentDom","diff","_globalContext","ownerSVGElement","commitRoot","diffChildren","newParentVNode","oldParentVNode","globalContext","isSvg","excessDomChildren","isHydrating","j","sibDom","firstChildDom","refs","oldChildren","EMPTY_ARR","oldChildrenLength","EMPTY_OBJ","toChildArray","childVNode","nextDom","outer","appendChild","nextSibling","insertBefore","unmount","applyRef","callback","flattened","isArray","setStyle","setProperty","IS_NON_DIMENSIONAL","test","oldValue","useCapture","nameLower","cssText","replace","toLowerCase","slice","addEventListener","eventProxy","_listeners","removeEventListener","removeAttributeNS","setAttributeNS","removeAttribute","setAttribute","newVNode","tmp","isNew","oldProps","oldState","snapshot","clearProcessingException","newProps","provider","componentContext","newType","_diff","contextType","_id","_defaultValue","_processingException","_pendingError","doRender","sub","_renderCallbacks","_nextState","getDerivedStateFromProps","componentDidMount","componentWillReceiveProps","_force","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","_render","getChildContext","getSnapshotBeforeUpdate","diffElementNodes","diffed","_catchError","root","_commit","cb","oldHtml","newHtml","nodeType","localName","document","createTextNode","createElementNS","is","childNodes","dangerouslySetInnerHTML","attributes","__html","innerHTML","hydrate","diffProps","checked","parentVNode","skipRemove","replaceNode","_root","IS_HYDRATE","error","hasCaught","getDerivedStateFromError","componentDidCatch","update","forceUpdate","Promise","then","resolve","setTimeout","h","Preact","interopDefault","default","navigator","serviceWorker","register","__webpack_public_path__","require","getElementById","body","firstElementChild","app","preRenderData","inlineDataElement","querySelector","url","CLI_DATA","init"],"mappings":"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","file":"bundle.bcf01.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/graph/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"mdyV\");\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ke_z5dUkiLINXXRQecyWc\",\"graph\":\"_2LnSqepP9arbZ_JgmKsSOx\",\"editor\":\"_2B9HOHNxzkqOaGhX69Vo9o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"XGfI7YI58bReOW4_02Wf7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ogpaviVE3fhNW1zJ2HDYy\",\"svg\":\"_3jotsNi7ORR9CZOH1jzM2y\"};","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isFunction(x) {\n    return typeof x === 'function';\n}\n//# sourceMappingURL=isFunction.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\n//# sourceMappingURL=hostReportError.js.map\n","/** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_UnsubscriptionError PURE_IMPORTS_END */\nimport { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nvar Subscription = /*@__PURE__*/ (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction(_unsubscribe)) {\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexport { Subscription };\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function identity(x) {\n    return x;\n}\n//# sourceMappingURL=identity.js.map\n","/** PURE_IMPORTS_START _identity PURE_IMPORTS_END */\nimport { identity } from './identity';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (fns.length === 0) {\n        return identity;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map\n","/** PURE_IMPORTS_START _util_canReportError,_util_toSubscriber,_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nvar Observable = /*@__PURE__*/ (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map\n","import { DeepReadonly } from './readonly';\nimport { Subject, Observable } from 'rxjs';\n\nexport interface Point {\n    x: number;\n    y: number;\n}\n\ninterface VertexData extends Point {\n    id: number;\n    color: string;\n    name: string;\n}\n\nexport interface Vertex extends VertexData {\n    id: number;\n}\n\ninterface EdgeData {\n    color: string;\n    cost: number;\n    directed: boolean;\n}\n\ninterface EdgeJSON extends EdgeData {\n    source: number;\n    target: number;\n}\n\nexport interface GraphJSON {\n    vertices: Vertex[];\n    edges: EdgeJSON[];\n}\n\ninterface EdgeRuntime {\n    data: EdgeData;\n    target: VertexRuntime;\n}\n\ninterface VertexRuntime {\n    data: VertexData;\n    edges: Map<number, EdgeRuntime>;\n}\n\nexport interface Edge extends EdgeData {\n    source: Vertex;\n    target: Vertex;\n}\n\nexport enum ChangeKind {\n    Deserialized,\n    VertexAdded,\n    VertexMoved,\n    VertexUpdated,\n    EdgeAdded\n}\n\nexport interface Deserialized {\n    kind: ChangeKind.Deserialized;\n}\n\nexport interface VertexAdded {\n    kind: ChangeKind.VertexAdded;\n    v: Vertex;\n}\n\nexport interface VertexMoved {\n    kind: ChangeKind.VertexMoved;\n    v: Vertex;\n}\n\nexport interface VertexUpdated {\n    kind: ChangeKind.VertexUpdated;\n    v: Vertex;\n}\n\nexport interface EdgeAdded {\n    kind: ChangeKind.EdgeAdded;\n    e: Edge;\n}\n\nexport type Change =\n    | Deserialized\n    | VertexAdded\n    | VertexMoved\n    | VertexUpdated\n    | EdgeAdded;\n\nexport class Graph {\n    private serial = 0;\n    private _change$ = new Subject<Change>();\n    private vertices = new Map<number, VertexRuntime>();\n\n    get V(): DeepReadonly<Vertex[]> {\n        const res = new Array<Vertex>();\n        for (const v of this.vertices.values()) {\n            res.push(v.data);\n        }\n        return res;\n    }\n\n    get E(): DeepReadonly<Edge[]> {\n        const res = new Array<Edge>();\n        for (let i = 0; i < this.serial; i++) {\n            const v = this.vertices.get(i);\n            if (v === undefined) {\n                continue;\n            }\n            for (const e of v.edges.values()) {\n                if (e.data.directed || e.target.data.id > v.data.id) {\n                    res.push({\n                        ...e.data,\n                        source: v.data,\n                        target: e.target.data\n                    });\n                }\n            }\n        }\n        return res;\n    }\n\n    get change$(): Observable<Change> {\n        return this._change$.asObservable();\n    }\n\n    addVertex(data: Point & Partial<VertexData>): Vertex {\n        const id = ++this.serial;\n        const v = {\n            data: { name: id.toString(), color: '#000000', ...data, id },\n            edges: new Map()\n        };\n        this.vertices.set(id, v);\n        this._change$.next({ kind: ChangeKind.VertexAdded, v: v.data });\n        return v.data;\n    }\n\n    moveVertex(data: Pick<Vertex, 'id' | 'x' | 'y'>): Vertex {\n        const v = this.vertices.get(data.id);\n        if (v === undefined) {\n            throw new ReferenceError(`unknown vertex ${data.id}`);\n        }\n        v.data = { ...v.data, x: data.x, y: data.y };\n        this._change$.next({ kind: ChangeKind.VertexMoved, v: v.data });\n        return v.data;\n    }\n\n    updateVertex(data: Omit<Vertex, 'x' | 'y'>): Vertex {\n        const v = this.vertices.get(data.id);\n        if (v === undefined) {\n            throw new ReferenceError(`unknown vertex ${data.id}`);\n        }\n        v.data = { ...data, x: v.data.x, y: v.data.y };\n        this._change$.next({ kind: ChangeKind.VertexUpdated, v: v.data });\n        return v.data;\n    }\n\n    addEdge(e: EdgeData & { source: number; target: number }): Edge {\n        const res = this._addEdge(e);\n        this._change$.next({ kind: ChangeKind.EdgeAdded, e: res });\n        return res;\n    }\n\n    serialize(): DeepReadonly<GraphJSON> {\n        return {\n            vertices: this.V,\n            edges: this.E.map(e => ({\n                ...e,\n                source: e.source.id,\n                target: e.target.id\n            }))\n        };\n    }\n\n    deserialize(graph: DeepReadonly<GraphJSON>): void {\n        this.serial = graph.vertices.reduce((acc, v) => Math.max(acc, v.id), 0);\n        for (const v of graph.vertices) {\n            this.vertices.set(v.id, { data: v, edges: new Map() });\n        }\n        for (const e of graph.edges) {\n            this._addEdge(e);\n        }\n        this._change$.next({ kind: ChangeKind.Deserialized });\n    }\n\n    private _addEdge(e: EdgeJSON): Edge {\n        const { source: sId, target: tId, ...data } = e;\n        const source = this.vertices.get(sId);\n        const target = this.vertices.get(tId);\n        if (!source || !target) {\n            throw new ReferenceError(`invalid edge from ${sId} to ${tId}`);\n        }\n        source.edges.set(tId, { data, target });\n        if (!e.directed) {\n            target.edges.set(sId, { data, target: source });\n        }\n        return { ...data, source: source.data, target: target.data };\n    }\n}\n","import { h, ComponentChild, RefObject, FunctionalComponent } from 'preact';\nimport * as style from './style.css';\n\nexport interface PopoverProps {\n    target: RefObject<Element>;\n    content: ComponentChild | ComponentChild[];\n}\n\nexport const PopoverComponent: FunctionalComponent<PopoverProps> = props => {\n    const bbox = props.target.current!.getBoundingClientRect();\n    const position = {\n        left: bbox.right,\n        top: bbox.top + bbox.height / 2\n    };\n    return (\n        <div class={style.container} style={position}>\n            {props.content}\n        </div>\n    );\n};\n","import { h, FunctionalComponent } from 'preact';\nimport { Vertex } from '../../models/graph';\n\nexport interface VertexSettingsProps {\n    vertex: Vertex;\n    onChange: (_: Vertex) => void;\n    onClose: () => void;\n}\n\nexport const VertexSettingsComponent: FunctionalComponent<VertexSettingsProps> = props => {\n    let name = props.vertex.name;\n    let color = props.vertex.color;\n\n    function save(e: Event) {\n        e.preventDefault();\n        if (props.vertex.name !== name || props.vertex.color !== color) {\n            props.onChange({ ...props.vertex, color, name });\n        }\n        props.onClose();\n    }\n\n    return (\n        <form onSubmit={save}>\n            <input\n                type=\"color\"\n                value={color}\n                onChange={e => (color = e.currentTarget.value)}\n            />\n            <input\n                type=\"text\"\n                ref={dom => dom && dom.select()}\n                value={name}\n                onChange={e => (name = e.currentTarget.value)}\n            />\n            <button>Save</button>\n        </form>\n    );\n};\n","import { h, Component, createRef, ComponentChild } from 'preact';\nimport { Vertex, Point, Edge } from '../../models/graph';\nimport * as style from './style.css';\nimport { PopoverComponent } from '../popover';\nimport { VertexSettingsComponent } from '../vertex-settings';\nimport { DeepReadonly } from '../../models/readonly';\n\nexport interface GraphProps {\n    vertices: DeepReadonly<Vertex[]>;\n    edges: DeepReadonly<Edge[]>;\n    addVertex: (v: Point) => void;\n    moveVertex: (v: Pick<Vertex, 'id' | 'x' | 'y'>) => void;\n    updateVertex: (v: Omit<Vertex, 'x' | 'y'>) => void;\n}\n\nexport interface Translate {\n    dx: number;\n    dy: number;\n}\n\nexport interface GraphState {\n    translate: Translate;\n\n    translateStartPoint?: Point;\n    translateStartValue?: Translate;\n\n    movedVertexIndex?: number;\n    movedVertexStartPoint?: Point;\n    movedVertexTranslate?: Translate;\n\n    menuedVertexIndex?: number;\n}\n\nexport class GraphComponent extends Component<GraphProps, GraphState> {\n    state: Readonly<GraphState> = { translate: { dx: 0, dy: 0 } };\n    private ref = createRef();\n    private menuedVertex = createRef();\n\n    private get vertexMenu(): ComponentChild {\n        return (\n            <VertexSettingsComponent\n                vertex={this.props.vertices[this.state.menuedVertexIndex!]}\n                onChange={this.props.updateVertex}\n                onClose={() => this.setState({ menuedVertexIndex: undefined })}\n            />\n        );\n    }\n\n    render(props: GraphProps, state: Readonly<GraphState>) {\n        const transform = `translate(${state.translate.dx} ${state.translate.dy})`;\n        return (\n            <div class={style.container}>\n                <svg\n                    ref={this.ref}\n                    class={style.svg}\n                    tab-index=\"-1\"\n                    onDblClick={e => this.createVertex(e)}\n                    onMouseDown={e => this.onMouseDown(e)}\n                    onMouseMove={e => this.onMouseMove(e)}\n                    onMouseUp={() => this.onMouseUp()}\n                >\n                    <g transform={transform}>\n                        {props.edges.map(e => (\n                            <line\n                                key={e.source.id + e.target.id}\n                                x1={e.source.x}\n                                y1={e.source.y}\n                                x2={e.target.x}\n                                y2={e.target.y}\n                                stroke={e.color}\n                            />\n                        ))}\n                        {props.vertices.map((v, i) => (\n                            <g\n                                key={v.id}\n                                transform={this.vertexTranslate(i, v)}\n                            >\n                                <circle\n                                    ref={\n                                        i === state.menuedVertexIndex\n                                            ? this.menuedVertex\n                                            : undefined\n                                    }\n                                    r=\"5\"\n                                    fill={v.color}\n                                    onMouseDown={e =>\n                                        this.onVertexMoveStart(i, e)\n                                    }\n                                    onContextMenu={e =>\n                                        this.onRightClickOnVertex(i, e)\n                                    }\n                                />\n                                <text x=\"5\" y=\"15\">\n                                    {v.name}\n                                </text>\n                            </g>\n                        ))}\n                    </g>\n                </svg>\n                {state.menuedVertexIndex !== undefined && this.menuedVertex ? (\n                    <PopoverComponent\n                        target={this.menuedVertex}\n                        content={this.vertexMenu}\n                    ></PopoverComponent>\n                ) : null}\n            </div>\n        );\n    }\n\n    private vertexTranslate(i: number, v: Vertex): string {\n        let x = v.x;\n        let y = v.y;\n        if (this.state.movedVertexIndex === i) {\n            x += this.state.movedVertexTranslate!.dx;\n            y += this.state.movedVertexTranslate!.dy;\n        }\n        return `translate(${x}, ${y})`;\n    }\n\n    private createVertex(event: MouseEvent): void {\n        const svg = this.ref.current as SVGElement;\n        const rect = svg.getBoundingClientRect();\n        const point = {\n            x: event.clientX - rect.x - this.state.translate.dx,\n            y: event.clientY - rect.y - this.state.translate.dy\n        };\n        this.props.addVertex({\n            ...point\n        });\n    }\n\n    private onMouseDown(event: MouseEvent): void {\n        this.setState({\n            translateStartPoint: { x: event.clientX, y: event.clientY },\n            translateStartValue: this.state.translate,\n            menuedVertexIndex: undefined\n        });\n    }\n\n    private onMouseMove(event: MouseEvent): void {\n        if (this.state.translateStartPoint && this.state.translateStartValue) {\n            this.setState({\n                translate: {\n                    dx:\n                        this.state.translateStartValue.dx +\n                        event.clientX -\n                        this.state.translateStartPoint.x,\n                    dy:\n                        this.state.translateStartValue.dy +\n                        event.clientY -\n                        this.state.translateStartPoint.y\n                }\n            });\n        }\n        if (this.state.movedVertexStartPoint) {\n            this.setState({\n                movedVertexTranslate: {\n                    dx: event.clientX - this.state.movedVertexStartPoint!.x,\n                    dy: event.clientY - this.state.movedVertexStartPoint!.y\n                }\n            });\n        }\n    }\n\n    private onMouseUp(): void {\n        if (\n            this.state.movedVertexIndex !== undefined &&\n            this.state.movedVertexTranslate\n        ) {\n            this.props.moveVertex({\n                id: this.props.vertices[this.state.movedVertexIndex].id,\n                x:\n                    this.props.vertices[this.state.movedVertexIndex].x +\n                    this.state.movedVertexTranslate.dx,\n                y:\n                    this.props.vertices[this.state.movedVertexIndex].y +\n                    this.state.movedVertexTranslate.dy\n            });\n        }\n        this.setState({\n            translateStartPoint: undefined,\n            translateStartValue: undefined,\n\n            movedVertexIndex: undefined,\n            movedVertexStartPoint: undefined,\n            movedVertexTranslate: undefined\n        });\n    }\n\n    private onVertexMoveStart(i: number, event: MouseEvent): void {\n        event.stopPropagation();\n        this.setState({\n            movedVertexIndex: i,\n            movedVertexStartPoint: { x: event.clientX, y: event.clientY },\n            movedVertexTranslate: { dx: 0, dy: 0 }\n        });\n    }\n\n    private onRightClickOnVertex(i: number, event: MouseEvent): boolean {\n        event.stopPropagation();\n        event.preventDefault();\n        this.setState({\n            menuedVertexIndex: i\n        });\n        return false;\n    }\n}\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexport var config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = /*@__PURE__*/ new Error();\n            /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            /*@__PURE__*/ console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map\n","/** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nexport var empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar UnsubscriptionErrorImpl = /*@__PURE__*/ (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexport var UnsubscriptionError = UnsubscriptionErrorImpl;\n//# sourceMappingURL=UnsubscriptionError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isObject(x) {\n    return x !== null && typeof x === 'object';\n}\n//# sourceMappingURL=isObject.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var rxSubscriber = /*@__PURE__*/ (function () {\n    return typeof Symbol === 'function'\n        ? /*@__PURE__*/ Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + /*@__PURE__*/ Math.random();\n})();\nexport var $$rxSubscriber = rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map\n","/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nvar Subscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = emptyObserver;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = emptyObserver;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriberSymbol] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar SafeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== emptyObserver) {\n                context = Object.create(observerOrNext);\n                if (isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\n//# sourceMappingURL=Subscriber.js.map\n","/** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nexport function toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriberSymbol]) {\n            return nextOrObserver[rxSubscriberSymbol]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber(emptyObserver);\n    }\n    return new Subscriber(nextOrObserver, error, complete);\n}\n//# sourceMappingURL=toSubscriber.js.map\n","/** PURE_IMPORTS_START _Subscriber PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nexport function canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=canReportError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar ObjectUnsubscribedErrorImpl = /*@__PURE__*/ (function () {\n    function ObjectUnsubscribedErrorImpl() {\n        Error.call(this);\n        this.message = 'object unsubscribed';\n        this.name = 'ObjectUnsubscribedError';\n        return this;\n    }\n    ObjectUnsubscribedErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return ObjectUnsubscribedErrorImpl;\n})();\nexport var ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n","/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from './Subscription';\nvar SubjectSubscription = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        var _this = _super.call(this) || this;\n        _this.subject = subject;\n        _this.subscriber = subscriber;\n        _this.closed = false;\n        return _this;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription));\nexport { SubjectSubscription };\n//# sourceMappingURL=SubjectSubscription.js.map\n","/** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nvar SubjectSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        return _this;\n    }\n    return SubjectSubscriber;\n}(Subscriber));\nexport { SubjectSubscriber };\nvar Subject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.observers = [];\n        _this.closed = false;\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype[rxSubscriberSymbol] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map\n","import \"./style/index.css\";\nimport { AppComponent } from \"./components/app.tsx\";\n\nexport default AppComponent;\n","import { h, Component, ComponentChild } from 'preact';\nimport { GraphComponent } from './graph/graph';\nimport { Graph, Vertex, Edge, Change } from '../models/graph';\nimport * as style from './style.css';\nimport { DeepReadonly } from '../models/readonly';\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nif ((module as any).hot) {\n    // tslint:disable-next-line:no-var-requires\n    require('preact/debug');\n}\n\ndeclare const window: {\n    graph: Graph;\n};\n\nexport interface AppState {\n    vertices: DeepReadonly<Vertex[]>;\n    edges: DeepReadonly<Edge[]>;\n}\n\nexport class AppComponent extends Component<{}, AppState> {\n    private graph = new Graph();\n    private changeSub = this.graph.change$.subscribe(\n        this.updateState.bind(this)\n    );\n    state = {\n        vertices: this.graph.V,\n        edges: this.graph.E\n    };\n\n    // eslint-disable-next-line react/no-deprecated\n    componentWillMount(): void {\n        window.graph = this.graph;\n        const raw = localStorage.getItem('graph');\n        if (raw !== null) {\n            this.graph.deserialize(JSON.parse(raw));\n        }\n    }\n\n    componentWillUnmount(): void {\n        if (this.changeSub) {\n            this.changeSub.unsubscribe();\n        }\n    }\n\n    render(): ComponentChild {\n        return (\n            <div id=\"app\" class={style.container}>\n                <div class={style.graph}>\n                    <GraphComponent\n                        vertices={this.state.vertices}\n                        edges={this.state.edges}\n                        addVertex={this.graph.addVertex.bind(this.graph)}\n                        moveVertex={this.graph.moveVertex.bind(this.graph)}\n                        updateVertex={this.graph.updateVertex.bind(this.graph)}\n                    />\n                </div>\n                <div class={style.editor}>\n                    {/* <EditorComponent graph={this.gra} /> */}\n                </div>\n            </div>\n        );\n    }\n\n    private updateState(_event: Change): void {\n        this.setState(\n            {\n                vertices: this.graph.V,\n                edges: this.graph.E\n            },\n            () =>\n                localStorage.setItem(\n                    'graph',\n                    JSON.stringify(this.graph.serialize())\n                )\n        );\n    }\n}\n","/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n","import options from './options';\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\ti;\n\tfor (i in props) {\n\t\tif (i !== 'key' && i !== 'ref') normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 3) {\n\t\tchildren = [children];\n\t\t// https://github.com/preactjs/preact/issues/1916\n\t\tfor (i = 3; i < arguments.length; i++) {\n\t\t\tchildren.push(arguments[i]);\n\t\t}\n\t}\n\tif (children != null) {\n\t\tnormalizedProps.children = children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(\n\t\ttype,\n\t\tnormalizedProps,\n\t\tprops && props.key,\n\t\tprops && props.ref,\n\t\tnull\n\t);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\tconstructor: undefined,\n\t\t_original: original\n\t};\n\n\tif (original == null) vnode._original = vnode;\n\tif (options.vnode) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn {};\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n","import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\tupdate = update(s, this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = oldVNode;\n\n\t\tlet newDom = diff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tnull,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (newDom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\nlet rerenderCount = 0;\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\n","import { diff, unmount, applyRef } from './index';\nimport { createVNode } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { removeNode } from '../util';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Node | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, newDom, sibDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\t// Only in very specific places should this logic be invoked (top level `render` and `diffElementNodes`).\n\t// I'm using `EMPTY_OBJ` to signal when `diffChildren` is invoked in these situations. I can't use `null`\n\t// for this purpose, because `null` is a valid value for `oldDom` which can mean to skip to this logic\n\t// (e.g. if mounting a new tree in which the old DOM should be ignored (usually for Fragments).\n\tif (oldDom == EMPTY_OBJ) {\n\t\tif (excessDomChildren != null) {\n\t\t\toldDom = excessDomChildren[0];\n\t\t} else if (oldChildrenLength) {\n\t\t\toldDom = getDomSibling(oldParentVNode, 0);\n\t\t} else {\n\t\t\toldDom = null;\n\t\t}\n\t}\n\n\ti = 0;\n\tnewParentVNode._children = toChildArray(\n\t\tnewParentVNode._children,\n\t\tchildVNode => {\n\t\t\tif (childVNode != null) {\n\t\t\t\tchildVNode._parent = newParentVNode;\n\t\t\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t\t\t// Check if we find a corresponding element in oldChildren.\n\t\t\t\t// If found, delete the array item by setting to `undefined`.\n\t\t\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t\t\t// (holes).\n\t\t\t\toldVNode = oldChildren[i];\n\n\t\t\t\tif (\n\t\t\t\t\toldVNode === null ||\n\t\t\t\t\t(oldVNode &&\n\t\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t\t\t) {\n\t\t\t\t\toldChildren[i] = undefined;\n\t\t\t\t} else {\n\t\t\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t\t\t// We always match by type (in either case).\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\toldVNode &&\n\t\t\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\toldVNode = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\t\t\tnewDom = diff(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\tglobalContext,\n\t\t\t\t\tisSvg,\n\t\t\t\t\texcessDomChildren,\n\t\t\t\t\tcommitQueue,\n\t\t\t\t\toldDom,\n\t\t\t\t\tisHydrating\n\t\t\t\t);\n\n\t\t\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\t\t\tif (!refs) refs = [];\n\t\t\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t\t\t}\n\n\t\t\t\t// Only proceed if the vnode has not been unmounted by `diff()` above.\n\t\t\t\tif (newDom != null) {\n\t\t\t\t\tif (firstChildDom == null) {\n\t\t\t\t\t\tfirstChildDom = newDom;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet nextDom;\n\t\t\t\t\tif (childVNode._nextDom !== undefined) {\n\t\t\t\t\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t\t\t\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t\t\t\t\t// of last DOM child of this child VNode\n\t\t\t\t\t\tnextDom = childVNode._nextDom;\n\n\t\t\t\t\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t\t\t\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t\t\t\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t\t\t\t\t// can clean up the property\n\t\t\t\t\t\tchildVNode._nextDom = undefined;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\texcessDomChildren == oldVNode ||\n\t\t\t\t\t\tnewDom != oldDom ||\n\t\t\t\t\t\tnewDom.parentNode == null\n\t\t\t\t\t) {\n\t\t\t\t\t\t// NOTE: excessDomChildren==oldVNode above:\n\t\t\t\t\t\t// This is a compression of excessDomChildren==null && oldVNode==null!\n\t\t\t\t\t\t// The values only have the same type when `null`.\n\n\t\t\t\t\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\t\t\t\t\tparentDom.appendChild(newDom);\n\t\t\t\t\t\t\tnextDom = null;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\t\t\t\t\tfor (\n\t\t\t\t\t\t\t\tsibDom = oldDom, j = 0;\n\t\t\t\t\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildrenLength;\n\t\t\t\t\t\t\t\tj += 2\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\t\t\t\t\tbreak outer;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\t\t\t\t\tnextDom = oldDom;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Browsers will infer an option's `value` from `textContent` when\n\t\t\t\t\t\t// no value is present. This essentially bypasses our code to set it\n\t\t\t\t\t\t// later in `diff()`. It works fine in all browsers except for IE11\n\t\t\t\t\t\t// where it breaks setting `select.value`. There it will be always set\n\t\t\t\t\t\t// to an empty string. Re-applying an options value will fix that, so\n\t\t\t\t\t\t// there are probably some internal data structures that aren't\n\t\t\t\t\t\t// updated properly.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// To fix it we make sure to reset the inferred value, so that our own\n\t\t\t\t\t\t// value check in `diff()` won't be skipped.\n\t\t\t\t\t\tif (newParentVNode.type == 'option') {\n\t\t\t\t\t\t\tparentDom.value = '';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t\t\t\t\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t\t\t\t\t// See more detail in create-element.js:createVNode\n\t\t\t\t\tif (nextDom !== undefined) {\n\t\t\t\t\t\toldDom = nextDom;\n\t\t\t\t\t} else {\n\t\t\t\t\t\toldDom = newDom.nextSibling;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t\t\t//\n\t\t\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t\t\t// node's nextSibling.\n\n\t\t\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t\t\t}\n\t\t\t\t} else if (\n\t\t\t\t\toldDom &&\n\t\t\t\t\toldVNode._dom == oldDom &&\n\t\t\t\t\toldDom.parentNode != parentDom\n\t\t\t\t) {\n\t\t\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\t\t\toldDom = getDomSibling(oldVNode);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\ti++;\n\t\t\treturn childVNode;\n\t\t}\n\t);\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove children that are not part of any vnode.\n\tif (excessDomChildren != null && typeof newParentVNode.type != 'function') {\n\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t}\n\t}\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) unmount(oldChildren[i], oldChildren[i]);\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @param {(vnode: import('../internal').VNode) => import('../internal').VNode} [callback]\n * A function to invoke for each child before it is added to the flattened list.\n * @param {Array<import('../internal').VNode | string | number>} [flattened] An flat array of children to modify\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, callback, flattened) {\n\tif (flattened == null) flattened = [];\n\n\tif (children == null || typeof children == 'boolean') {\n\t\tif (callback) flattened.push(callback(null));\n\t} else if (Array.isArray(children)) {\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\ttoChildArray(children[i], callback, flattened);\n\t\t}\n\t} else if (!callback) {\n\t\tflattened.push(children);\n\t} else if (typeof children == 'string' || typeof children == 'number') {\n\t\tflattened.push(callback(createVNode(null, children, null, null, children)));\n\t} else if (children._dom != null || children._component != null) {\n\t\tflattened.push(\n\t\t\tcallback(\n\t\t\t\tcreateVNode(\n\t\t\t\t\tchildren.type,\n\t\t\t\t\tchildren.props,\n\t\t\t\t\tchildren.key,\n\t\t\t\t\tnull,\n\t\t\t\t\tchildren._original\n\t\t\t\t)\n\t\t\t)\n\t\t);\n\t} else {\n\t\tflattened.push(callback(children));\n\t}\n\n\treturn flattened;\n}\n","import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (\n\t\ttypeof value == 'number' &&\n\t\tIS_NON_DIMENSIONAL.test(key) === false\n\t) {\n\t\tstyle[key] = value + 'px';\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else {\n\t\tstyle[key] = value;\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nfunction setProperty(dom, name, value, oldValue, isSvg) {\n\tlet s, useCapture, nameLower;\n\n\tif (isSvg) {\n\t\tif (name === 'className') {\n\t\t\tname = 'class';\n\t\t}\n\t} else if (name === 'class') {\n\t\tname = 'className';\n\t}\n\n\tif (name === 'style') {\n\t\ts = dom.style;\n\n\t\tif (typeof value == 'string') {\n\t\t\ts.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\ts.cssText = '';\n\t\t\t\toldValue = null;\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (let i in oldValue) {\n\t\t\t\t\tif (!(value && i in value)) {\n\t\t\t\t\t\tsetStyle(s, i, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (let i in value) {\n\t\t\t\t\tif (!oldValue || value[i] !== oldValue[i]) {\n\t\t\t\t\t\tsetStyle(s, i, value[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tnameLower = name.toLowerCase();\n\t\tname = (nameLower in dom ? nameLower : name).slice(2);\n\n\t\tif (value) {\n\t\t\tif (!oldValue) dom.addEventListener(name, eventProxy, useCapture);\n\t\t\t(dom._listeners || (dom._listeners = {}))[name] = value;\n\t\t} else {\n\t\t\tdom.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t} else if (\n\t\tname !== 'list' &&\n\t\tname !== 'tagName' &&\n\t\t// HTMLButtonElement.form and HTMLInputElement.form are read-only but can be set using\n\t\t// setAttribute\n\t\tname !== 'form' &&\n\t\tname !== 'type' &&\n\t\tname !== 'size' &&\n\t\t!isSvg &&\n\t\tname in dom\n\t) {\n\t\tdom[name] = value == null ? '' : value;\n\t} else if (typeof value != 'function' && name !== 'dangerouslySetInnerHTML') {\n\t\tif (name !== (name = name.replace(/^xlink:?/, ''))) {\n\t\t\tif (value == null || value === false) {\n\t\t\t\tdom.removeAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase()\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tdom.setAttributeNS(\n\t\t\t\t\t'http://www.w3.org/1999/xlink',\n\t\t\t\t\tname.toLowerCase(),\n\t\t\t\t\tvalue\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (\n\t\t\tvalue == null ||\n\t\t\t(value === false &&\n\t\t\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t\t\t// The value `false` is different from the attribute not\n\t\t\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t\t\t// that other VDOM frameworks also always stringify `false`.\n\t\t\t\t!/^ar/.test(name))\n\t\t) {\n\t\t\tdom.removeAttribute(name);\n\t\t} else {\n\t\t\tdom.setAttribute(name, value);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type](options.event ? options.event(e) : e);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { Component } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps } from './props';\nimport { assign, removeNode } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {Element | Text} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\t(newVNode._original === oldVNode._original && !c._processingException)\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (tmp = 0; tmp < newVNode._children.length; tmp++) {\n\t\t\t\t\t\tif (newVNode._children[tmp]) {\n\t\t\t\t\t\t\tnewVNode._children[tmp]._parent = newVNode;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type == Fragment && tmp.key == null;\n\t\t\tnewVNode._children = isTopLevelFragment\n\t\t\t\t? tmp.props.children\n\t\t\t\t: Array.isArray(tmp)\n\t\t\t\t? tmp\n\t\t\t\t: [tmp];\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n\n\treturn newVNode._dom;\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet i;\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tisSvg = newVNode.type === 'svg' || isSvg;\n\n\tif (excessDomChildren != null) {\n\t\tfor (i = 0; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild != null &&\n\t\t\t\t((newVNode.type === null\n\t\t\t\t\t? child.nodeType === 3\n\t\t\t\t\t: child.localName === newVNode.type) ||\n\t\t\t\t\tdom == child)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (newVNode.type === null) {\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tdom = isSvg\n\t\t\t? document.createElementNS('http://www.w3.org/2000/svg', newVNode.type)\n\t\t\t: document.createElement(\n\t\t\t\t\tnewVNode.type,\n\t\t\t\t\tnewProps.is && { is: newProps.is }\n\t\t\t  );\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (newVNode.type === null) {\n\t\tif (oldProps !== newProps && dom.data != newProps) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\tif (excessDomChildren != null) {\n\t\t\texcessDomChildren = EMPTY_ARR.slice.call(dom.childNodes);\n\t\t}\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\tif (oldProps === EMPTY_OBJ) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (let i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (!newHtml || !oldHtml || newHtml.__html != oldHtml.__html) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\tnewVNode._children = newVNode.props.children;\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (!newHtml) {\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tnewVNode.type === 'foreignObject' ? false : isSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tEMPTY_OBJ,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\tnewProps.value !== undefined &&\n\t\t\t\tnewProps.value !== dom.value\n\t\t\t) {\n\t\t\t\tdom.value = newProps.value == null ? '' : newProps.value;\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\tnewProps.checked !== undefined &&\n\t\t\t\tnewProps.checked !== dom.checked\n\t\t\t) {\n\t\t\t\tdom.checked = newProps.checked;\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tlet dom;\n\tif (!skipRemove && typeof vnode.type != 'function') {\n\t\tskipRemove = (dom = vnode._dom) != null;\n\t}\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) unmount(r[i], parentVNode, skipRemove);\n\t\t}\n\t}\n\n\tif (dom != null) removeNode(dom);\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n","import { EMPTY_OBJ, EMPTY_ARR } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\n\nconst IS_HYDRATE = EMPTY_OBJ;\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {Element | Text} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we\n\t// are in hydration mode or not by passing `IS_HYDRATE` instead of a\n\t// DOM element.\n\tlet isHydrating = replaceNode === IS_HYDRATE;\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\tvnode = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\t((isHydrating ? parentDom : replaceNode || parentDom)._children = vnode),\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\treplaceNode && !isHydrating\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: EMPTY_ARR.slice.call(parentDom.childNodes),\n\t\tcommitQueue,\n\t\treplaceNode || EMPTY_OBJ,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./index').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, IS_HYDRATE);\n}\n","export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n","import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n","import { enqueueRender } from '../component';\n\n/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n */\nexport function _catchError(error, vnode) {\n\t/** @type {import('../internal').Component} */\n\tlet component, hasCaught;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tif (\n\t\t\t\t\tcomponent.constructor &&\n\t\t\t\t\tcomponent.constructor.getDerivedStateFromError != null\n\t\t\t\t) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.setState(\n\t\t\t\t\t\tcomponent.constructor.getDerivedStateFromError(error)\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\thasCaught = true;\n\t\t\t\t\tcomponent.componentDidCatch(error);\n\t\t\t\t}\n\n\t\t\t\tif (hasCaught)\n\t\t\t\t\treturn enqueueRender((component._pendingError = component));\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n","/* global __webpack_public_path__ */\n\nimport * as Preact from 'preact';\nconst { h, render, hydrate } = Preact;\n\nconst interopDefault = m => (m && m.default ? m.default : m);\n\nconst normalizeURL = url => (url[url.length - 1] === '/' ? url : url + '/');\n\nif (process.env.NODE_ENV === 'development') {\n\t// enable preact devtools\n\trequire('preact/debug');\n\tif (process.env.RHL) {\n\t\t// enable hot loader\n\t\tconst hotLoader = interopDefault(require('react-hot-loader'));\n\t\thotLoader.preact(interopDefault(require('preact')));\n\t}\n\t// only add a debug sw if webpack service worker is not requested.\n\tif (process.env.ADD_SW === undefined && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(__webpack_public_path__ + 'sw-debug.js');\n\t} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t\t// eslint-disable-next-line no-undef\n\t\tnavigator.serviceWorker.register(\n\t\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t\t);\n\t}\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator) {\n\t// eslint-disable-next-line no-undef\n\tnavigator.serviceWorker.register(\n\t\t__webpack_public_path__ + (process.env.ES_BUILD ? 'sw-esm.js' : 'sw.js')\n\t);\n}\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root =\n\t\tdocument.getElementById('preact_root') || document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\tlet preRenderData = {};\n\t\tconst inlineDataElement = document.querySelector(\n\t\t\t'[type=\"__PREACT_CLI_DATA__\"]'\n\t\t);\n\t\tif (inlineDataElement) {\n\t\t\tpreRenderData =\n\t\t\t\tJSON.parse(inlineDataElement.innerHTML).preRenderData || preRenderData;\n\t\t}\n\t\t/* An object named CLI_DATA is passed as a prop,\n\t\t * this keeps us future proof if in case we decide,\n\t\t * to send other data like at some point in time.\n\t\t */\n\t\tconst CLI_DATA = { preRenderData };\n\t\tconst currentURL = preRenderData.url ? normalizeURL(preRenderData.url) : '';\n\t\tconst canHydrate =\n\t\t\tprocess.env.PRERENDER &&\n\t\t\tprocess.env.NODE_ENV === 'production' &&\n\t\t\thydrate &&\n\t\t\tcurrentURL === location.pathname;\n\t\tconst doRender = canHydrate ? hydrate : render;\n\t\troot = doRender(h(app, { CLI_DATA }), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n"],"sourceRoot":""}